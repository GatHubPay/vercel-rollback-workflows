# 🚀 Template Básico - Deploy com Rollback Automático
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .github/workflows/deploy.yml no seu projeto
# 2. Substitua "SEU_PROJETO_VERCEL" pelo nome exato do projeto no Vercel
# 3. Configure os secrets necessários no GitHub
# 4. Faça push e veja a mágica acontecer!

name: Deploy Automático com Rollback

on:
  push:
    branches: [main, master]
  workflow_dispatch: # Permite executar manualmente

jobs:
  deploy:
    uses: SeuUsuario/vercel-rollback-workflows/.github/workflows/vercel-rollback.yml@v1
    with:
      # ⬇️ OBRIGATÓRIO: Nome EXATO do seu projeto no Vercel
      vercelProject: "SEU_PROJETO_VERCEL"
      
      # ⬇️ OPCIONAL: Rotas específicas para testar (deixe vazio para auto-detecção)
      routes: ""
      
    secrets:
      VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
      VERCEL_TEAM_ID: ${{ secrets.VERCEL_TEAM_ID }}
      VERCEL_SCOPE: ${{ secrets.VERCEL_SCOPE }}

# ========================================
# SECRETS NECESSÁRIOS NO GITHUB
# ========================================
# 
# Vá em Settings > Secrets and variables > Actions
# e adicione estes 3 secrets:
#
# VERCEL_TOKEN: (crie em https://vercel.com/account/tokens)
# VERCEL_TEAM_ID: (encontre no dashboard do Vercel)
# VERCEL_SCOPE: (nome da sua organização/time no Vercel)
#
# ========================================

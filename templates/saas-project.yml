# üíº Template SaaS - Deploy com Rollback Autom√°tico
# 
# Otimizado para aplica√ß√µes SaaS, dashboards e sistemas
# Testa autentica√ß√£o, dashboard e APIs cr√≠ticas

name: Deploy SaaS com Rollback

on:
  push:
    branches: [main, master]
  workflow_dispatch:

jobs:
  deploy:
    uses: SeuUsuario/vercel-rollback-workflows/.github/workflows/vercel-rollback.yml@v1
    with:
      # ‚¨áÔ∏è OBRIGAT√ìRIO: Nome do seu projeto no Vercel
      vercelProject: "meu-saas-vercel"
      
      # ‚¨áÔ∏è ROTAS CR√çTICAS PARA SAAS
      routes: "/,/login,/dashboard,/settings,/api/auth,/api/users,/api/health"
      
      # ‚¨áÔ∏è CONFIGURA√á√ïES OTIMIZADAS PARA SAAS
      healthCheckTimeout: 60        # Timeout maior para opera√ß√µes complexas
      maxRetries: 5                 # Mais tentativas para sistemas cr√≠ticos
      monitoringDurationMinutes: 60 # Monitoramento estendido
      
    secrets:
      VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
      VERCEL_TEAM_ID: ${{ secrets.VERCEL_TEAM_ID }}
      VERCEL_SCOPE: ${{ secrets.VERCEL_SCOPE }}

# ========================================
# ROTAS IMPORTANTES PARA SAAS
# ========================================
#
# P√°ginas Principais:
# / - Landing page
# /login - Autentica√ß√£o
# /dashboard - Dashboard principal
# /settings - Configura√ß√µes
# /billing - Faturamento
# /reports - Relat√≥rios
#
# APIs Cr√≠ticas:
# /api/auth - Autentica√ß√£o
# /api/users - Gerenciamento de usu√°rios
# /api/data - Dados da aplica√ß√£o
# /api/billing - Sistema de cobran√ßa
# /api/health - Health check
#
# ========================================

# üéÆ Deploy RaspaGanha V2 - Workflow Final Otimizado
# 
# ‚úÖ Configurado automaticamente com script
# ‚úÖ Secrets j√° adicionados no GitHub
# ‚úÖ Team ID e Scope identificados automaticamente

name: Deploy RaspaGanha V2

on:
  push:
    branches: [main, master]
  workflow_dispatch:

jobs:
  deploy:
    uses: GatHubPay/vercel-rollback-workflows/.github/workflows/vercel-rollback.yml@main
    with:
      # ‚úÖ Projeto identificado automaticamente
      vercelProject: "rasparei"
      
      # ‚úÖ Rotas b√°sicas para evitar falsos positivos
      routes: "/,/api/health"
      
      # ‚úÖ Configura√ß√µes otimizadas
      healthCheckTimeout: 45
      maxRetries: 3
      enablePostDeployMonitoring: true
      monitoringDurationMinutes: 15
      monitoringIntervalMinutes: 5
      
    secrets:
      VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
      VERCEL_TEAM_ID: ${{ secrets.VERCEL_TEAM_ID }}
      VERCEL_SCOPE: ${{ secrets.VERCEL_SCOPE }}
      TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
      TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}

# ========================================
# ‚úÖ CONFIGURA√á√ÉO AUTOM√ÅTICA COMPLETA
# ========================================
#
# SECRETS ADICIONADOS AUTOMATICAMENTE:
# ‚úÖ VERCEL_TOKEN: 3L6PRzk55VblXpsy5mDCRs2N
# ‚úÖ VERCEL_TEAM_ID: team_L1Bv89TVZn7fyYgpNTqTw9uI  
# ‚úÖ VERCEL_SCOPE: gat-hubs-projects
# ‚úÖ TELEGRAM_BOT_TOKEN: (j√° existia)
# ‚úÖ TELEGRAM_CHAT_ID: (j√° existia)
#
# PROJETO IDENTIFICADO:
# ‚úÖ Nome: rasparei
# ‚úÖ ID: prj_rxJXl2EU8QaHxODYKlJGr1vO16rY
# ‚úÖ Team: Gat Hub's projects
#
# PARA IMPLEMENTAR:
# 1. Copie este arquivo para:
#    .github/workflows/deploy-caixabox.yml
#    no reposit√≥rio: https://github.com/GatHubPay/raspaganha-v2
#
# 2. Fa√ßa commit e push
#
# 3. O deploy ser√° executado automaticamente!
#
# ========================================
